# Generated by Django 6.0 on 2026-01-02 23:13

import django.contrib.auth.models
import django.contrib.auth.validators
import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='Configuracao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome_imobiliaria', models.CharField(default='CLICK GR2 IMOBILIÁRIA LTDA', max_length=200, verbose_name='Nome da Imobiliária')),
                ('cnpj_imobiliaria', models.CharField(default='26.903.395/0001-26', max_length=18, verbose_name='CNPJ')),
                ('endereco_imobiliaria', models.CharField(default='Rua Gervásio Neri, n° 48 - Vila Iara - São Gonçalo/RJ', max_length=300, verbose_name='Endereço')),
                ('cep_imobiliaria', models.CharField(default='24465-016', max_length=10, verbose_name='CEP')),
                ('telefone_imobiliaria', models.CharField(default='(21) 96594-4343', max_length=20, verbose_name='Telefone')),
                ('email_imobiliaria', models.EmailField(blank=True, max_length=254, verbose_name='E-mail')),
                ('site_imobiliaria', models.URLField(default='www.clickimoveisrj.com', verbose_name='Site')),
                ('instagram_imobiliaria', models.CharField(default='@imoveis.click', max_length=50, verbose_name='Instagram')),
                ('logo', models.ImageField(blank=True, null=True, upload_to='configuracao/', verbose_name='Logo')),
                ('validade_proposta_padrao', models.IntegerField(default=30, verbose_name='Validade Padrão Proposta (dias)')),
                ('validade_contrato_padrao', models.IntegerField(default=180, verbose_name='Validade Padrão Contrato (dias)')),
                ('prorrogacao_contrato_padrao', models.IntegerField(default=90, verbose_name='Prorrogação Padrão Contrato (dias)')),
                ('taxa_corretagem_padrao', models.DecimalField(decimal_places=2, default=5.0, max_digits=5, verbose_name='Taxa Corretagem Padrão (%)')),
            ],
            options={
                'verbose_name': 'Configuração',
                'verbose_name_plural': 'Configurações',
            },
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('username', models.CharField(error_messages={'unique': 'A user with that username already exists.'}, help_text='Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.', max_length=150, unique=True, validators=[django.contrib.auth.validators.UnicodeUsernameValidator()], verbose_name='username')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='email address')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('nivel', models.CharField(choices=[('administrador', 'Administrador'), ('gerente', 'Gerente'), ('corretor', 'Corretor')], default='corretor', max_length=20, verbose_name='Nível de Acesso')),
                ('cpf', models.CharField(max_length=14, unique=True, verbose_name='CPF')),
                ('creci', models.CharField(blank=True, max_length=20, null=True, verbose_name='CRECI')),
                ('telefone', models.CharField(max_length=20, verbose_name='Telefone')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('foto', models.ImageField(blank=True, null=True, upload_to='usuarios/', verbose_name='Foto')),
                ('groups', models.ManyToManyField(blank=True, related_name='contratus_users', to='auth.group')),
                ('user_permissions', models.ManyToManyField(blank=True, related_name='contratus_users_permissions', to='auth.permission')),
            ],
            options={
                'verbose_name': 'Usuário',
                'verbose_name_plural': 'Usuários',
                'ordering': ['first_name', 'last_name'],
            },
            managers=[
                ('objects', django.contrib.auth.models.UserManager()),
            ],
        ),
        migrations.CreateModel(
            name='Cliente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome_completo', models.CharField(max_length=200, verbose_name='Nome Completo')),
                ('cpf', models.CharField(max_length=14, unique=True, verbose_name='CPF')),
                ('rg', models.CharField(blank=True, max_length=20, verbose_name='RG')),
                ('data_nascimento', models.DateField(blank=True, null=True, verbose_name='Data de Nascimento')),
                ('estado_civil', models.CharField(blank=True, max_length=50, verbose_name='Estado Civil')),
                ('telefone', models.CharField(max_length=20, verbose_name='Telefone')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='E-mail')),
                ('rua', models.CharField(max_length=200, verbose_name='Rua')),
                ('numero', models.CharField(max_length=20, verbose_name='Número')),
                ('complemento', models.CharField(blank=True, max_length=100, verbose_name='Complemento')),
                ('bairro', models.CharField(max_length=100, verbose_name='Bairro')),
                ('cidade', models.CharField(max_length=100, verbose_name='Cidade')),
                ('estado', models.CharField(max_length=2, verbose_name='Estado (UF)')),
                ('cep', models.CharField(max_length=10, verbose_name='CEP')),
                ('origem', models.CharField(choices=[('impulsionamento', 'Impulsionamento'), ('indicacao', 'Indicação'), ('walkin', 'Walk-in'), ('site', 'Site'), ('redes_sociais', 'Redes Sociais'), ('telefone', 'Telefone'), ('outros', 'Outros')], max_length=20, verbose_name='Origem do Cliente')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('cadastrado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='clientes_cadastrados', to=settings.AUTH_USER_MODEL, verbose_name='Cadastrado por')),
            ],
            options={
                'verbose_name': 'Cliente',
                'verbose_name_plural': 'Clientes',
                'ordering': ['nome_completo'],
            },
        ),
        migrations.CreateModel(
            name='Construtora',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('razao_social', models.CharField(max_length=200, verbose_name='Razão Social')),
                ('nome_fantasia', models.CharField(max_length=200, verbose_name='Nome Fantasia')),
                ('cnpj', models.CharField(max_length=18, unique=True, verbose_name='CNPJ')),
                ('rua', models.CharField(max_length=200, verbose_name='Rua')),
                ('numero', models.CharField(max_length=20, verbose_name='Número')),
                ('complemento', models.CharField(blank=True, max_length=100, verbose_name='Complemento')),
                ('bairro', models.CharField(max_length=100, verbose_name='Bairro')),
                ('cidade', models.CharField(max_length=100, verbose_name='Cidade')),
                ('estado', models.CharField(max_length=2, verbose_name='Estado (UF)')),
                ('cep', models.CharField(max_length=10, verbose_name='CEP')),
                ('telefone', models.CharField(max_length=20, verbose_name='Telefone')),
                ('email', models.EmailField(max_length=254, verbose_name='E-mail')),
                ('responsavel_legal', models.CharField(max_length=200, verbose_name='Responsável Legal')),
                ('ativa', models.BooleanField(default=True, verbose_name='Ativa')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('cadastrado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='construtoras_cadastradas', to=settings.AUTH_USER_MODEL, verbose_name='Cadastrado por')),
            ],
            options={
                'verbose_name': 'Construtora',
                'verbose_name_plural': 'Construtoras',
                'ordering': ['nome_fantasia'],
            },
        ),
        migrations.CreateModel(
            name='Contrato',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('valor_imovel', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor do Imóvel')),
                ('valor_financiamento', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor do Financiamento')),
                ('valor_subsidio', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor do Subsídio')),
                ('valor_fgts', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor FGTS')),
                ('valor_entrada', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor da Entrada')),
                ('valor_parcelamento', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor Parcelamento (sem juros)')),
                ('numero_parcelas', models.IntegerField(verbose_name='Número de Parcelas')),
                ('valor_parcela', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Valor da Parcela')),
                ('numero_contrato', models.CharField(blank=True, max_length=50, unique=True, verbose_name='Número do Contrato')),
                ('status', models.CharField(choices=[('rascunho', 'Rascunho'), ('ativo', 'Ativo'), ('em_andamento', 'Em Andamento'), ('aguardando_assinatura', 'Aguardando Assinatura'), ('assinado', 'Assinado'), ('em_analise_banco', 'Em Análise no Banco'), ('aprovado_banco', 'Aprovado pelo Banco'), ('reprovado_banco', 'Reprovado pelo Banco'), ('finalizado', 'Finalizado'), ('cancelado', 'Cancelado'), ('distratado', 'Distratado')], default='rascunho', max_length=30, verbose_name='Status')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('data_assinatura', models.DateField(blank=True, null=True, verbose_name='Data de Assinatura')),
                ('validade_dias', models.IntegerField(default=180, verbose_name='Validade (dias)')),
                ('data_vencimento', models.DateField(blank=True, null=True, verbose_name='Data de Vencimento')),
                ('prorrogacao_dias', models.IntegerField(default=90, verbose_name='Prorrogação (dias)')),
                ('testemunha1_nome', models.CharField(blank=True, max_length=200, verbose_name='Nome da Testemunha 1')),
                ('testemunha1_cpf', models.CharField(blank=True, max_length=14, verbose_name='CPF da Testemunha 1')),
                ('testemunha2_nome', models.CharField(blank=True, max_length=200, verbose_name='Nome da Testemunha 2')),
                ('testemunha2_cpf', models.CharField(blank=True, max_length=14, verbose_name='CPF da Testemunha 2')),
                ('arquivo_contrato_pdf', models.FileField(blank=True, null=True, upload_to='contratos/', verbose_name='Contrato PDF')),
                ('arquivo_auto_visita_pdf', models.FileField(blank=True, null=True, upload_to='contratos/auto_visita/', verbose_name='Auto de Visita PDF')),
                ('arquivo_contrato_assinado', models.FileField(blank=True, null=True, upload_to='contratos/assinados/', verbose_name='Contrato Assinado')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('motivo_cancelamento', models.TextField(blank=True, verbose_name='Motivo do Cancelamento')),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='contratos', to='contratus.cliente', verbose_name='Cliente/Comprador')),
                ('corretor', models.ForeignKey(limit_choices_to={'nivel': 'corretor'}, on_delete=django.db.models.deletion.PROTECT, related_name='contratos_criados', to=settings.AUTH_USER_MODEL, verbose_name='Corretor')),
            ],
            options={
                'verbose_name': 'Contrato',
                'verbose_name_plural': 'Contratos',
                'ordering': ['-data_criacao'],
            },
        ),
        migrations.CreateModel(
            name='Comissao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('valor_base', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor Base (Imóvel)')),
                ('percentual', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Percentual (%)')),
                ('valor_comissao', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor da Comissão')),
                ('valor_descontos', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Descontos')),
                ('valor_liquido', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor Líquido')),
                ('status', models.CharField(choices=[('pendente', 'Pendente'), ('aprovada', 'Aprovada'), ('paga', 'Paga'), ('cancelada', 'Cancelada')], default='pendente', max_length=20, verbose_name='Status')),
                ('data_previsao_pagamento', models.DateField(blank=True, null=True, verbose_name='Previsão de Pagamento')),
                ('data_pagamento', models.DateField(blank=True, null=True, verbose_name='Data de Pagamento')),
                ('forma_pagamento', models.CharField(blank=True, max_length=50, verbose_name='Forma de Pagamento')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('corretor', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='comissoes', to=settings.AUTH_USER_MODEL, verbose_name='Corretor')),
                ('contrato', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='comissao', to='contratus.contrato', verbose_name='Contrato')),
            ],
            options={
                'verbose_name': 'Comissão',
                'verbose_name_plural': 'Comissões',
                'ordering': ['-data_previsao_pagamento'],
            },
        ),
        migrations.CreateModel(
            name='Empreendimento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=200, verbose_name='Nome do Empreendimento')),
                ('tipo_imovel', models.CharField(choices=[('casa', 'Casa'), ('apartamento', 'Apartamento'), ('sobrado', 'Sobrado'), ('kitnet', 'Kitnet')], max_length=20, verbose_name='Tipo de Imóvel')),
                ('rua', models.CharField(max_length=200, verbose_name='Rua')),
                ('numero', models.CharField(max_length=20, verbose_name='Número')),
                ('complemento', models.CharField(blank=True, max_length=100, verbose_name='Complemento')),
                ('bairro', models.CharField(max_length=100, verbose_name='Bairro')),
                ('cidade', models.CharField(max_length=100, verbose_name='Cidade')),
                ('estado', models.CharField(max_length=2, verbose_name='Estado (UF)')),
                ('cep', models.CharField(max_length=10, verbose_name='CEP')),
                ('descricao_completa', models.TextField(help_text='Ex: Casa linear com 01 quarto, sala, cozinha, banheiro e área de serviço', verbose_name='Descrição Completa')),
                ('quartos', models.IntegerField(default=0, verbose_name='Quartos')),
                ('banheiros', models.IntegerField(default=0, verbose_name='Banheiros')),
                ('vagas_garagem', models.IntegerField(default=0, verbose_name='Vagas de Garagem')),
                ('area_util', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Área Útil (m²)')),
                ('total_unidades', models.IntegerField(verbose_name='Total de Unidades')),
                ('unidades_disponiveis', models.IntegerField(verbose_name='Unidades Disponíveis')),
                ('valor_imovel', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor do Imóvel')),
                ('valor_engenharia_necessaria', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor da Engenharia Necessária')),
                ('taxa_corretagem_percentual', models.DecimalField(decimal_places=2, default=5.0, max_digits=5, verbose_name='Taxa de Corretagem (%)')),
                ('status', models.CharField(choices=[('lancamento', 'Lançamento'), ('em_obras', 'Em Obras'), ('pronto', 'Pronto para Entrega'), ('entregue', 'Entregue'), ('suspenso', 'Suspenso')], default='lancamento', max_length=20, verbose_name='Status')),
                ('data_lancamento', models.DateField(blank=True, null=True, verbose_name='Data de Lançamento')),
                ('data_entrega_prevista', models.DateField(blank=True, null=True, verbose_name='Data de Entrega Prevista')),
                ('imagem_principal', models.ImageField(blank=True, null=True, upload_to='empreendimentos/', verbose_name='Imagem Principal')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('cadastrado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='empreendimentos_cadastrados', to=settings.AUTH_USER_MODEL, verbose_name='Cadastrado por')),
                ('construtora', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='empreendimentos', to='contratus.construtora', verbose_name='Construtora')),
            ],
            options={
                'verbose_name': 'Empreendimento',
                'verbose_name_plural': 'Empreendimentos',
                'ordering': ['-data_cadastro'],
            },
        ),
        migrations.AddField(
            model_name='contrato',
            name='empreendimento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='contratos', to='contratus.empreendimento', verbose_name='Empreendimento'),
        ),
        migrations.CreateModel(
            name='Equipe',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100, unique=True, verbose_name='Nome da Equipe')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('ativa', models.BooleanField(default=True, verbose_name='Ativa')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('gerente', models.ForeignKey(limit_choices_to={'nivel': 'gerente'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='equipes_gerenciadas', to=settings.AUTH_USER_MODEL, verbose_name='Gerente')),
            ],
            options={
                'verbose_name': 'Equipe',
                'verbose_name_plural': 'Equipes',
                'ordering': ['nome'],
            },
        ),
        migrations.AddField(
            model_name='user',
            name='equipe',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='membros', to='contratus.equipe', verbose_name='Equipe'),
        ),
        migrations.CreateModel(
            name='HistoricoContrato',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status_anterior', models.CharField(max_length=30, verbose_name='Status Anterior')),
                ('status_novo', models.CharField(max_length=30, verbose_name='Status Novo')),
                ('data_alteracao', models.DateTimeField(auto_now_add=True, verbose_name='Data da Alteração')),
                ('observacao', models.TextField(blank=True, verbose_name='Observação')),
                ('contrato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='historico', to='contratus.contrato', verbose_name='Contrato')),
                ('usuario', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Usuário')),
            ],
            options={
                'verbose_name': 'Histórico do Contrato',
                'verbose_name_plural': 'Históricos dos Contratos',
                'ordering': ['-data_alteracao'],
            },
        ),
        migrations.CreateModel(
            name='Proposta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('valor_engenharia_necessaria', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Engenharia Necessária')),
                ('valor_imovel', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor do Imóvel')),
                ('valor_financiamento', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor do Financiamento')),
                ('valor_subsidio', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Valor do Subsídio')),
                ('valor_fgts', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Valor FGTS')),
                ('valor_sinal', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Valor do Sinal')),
                ('valor_entrada', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Valor da Entrada')),
                ('valor_parcelamento_sem_juros', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Parcelamento sem Juros (para contrato)')),
                ('valor_parcelamento_com_juros', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Parcelamento com Juros (50% - para proposta)')),
                ('numero_parcelas', models.IntegerField(verbose_name='Número de Parcelas')),
                ('valor_parcela', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Valor da Parcela')),
                ('total_aprovacao', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Total da Aprovação')),
                ('status', models.CharField(choices=[('rascunho', 'Rascunho'), ('enviada', 'Enviada'), ('aprovada', 'Aprovada'), ('recusada', 'Recusada'), ('expirada', 'Expirada')], default='rascunho', max_length=20, verbose_name='Status')),
                ('numero_proposta', models.CharField(blank=True, max_length=50, unique=True, verbose_name='Número da Proposta')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('data_envio', models.DateTimeField(blank=True, null=True, verbose_name='Data de Envio')),
                ('data_resposta', models.DateTimeField(blank=True, null=True, verbose_name='Data de Resposta')),
                ('validade_dias', models.IntegerField(default=30, verbose_name='Validade (dias)')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('arquivo_pdf', models.FileField(blank=True, null=True, upload_to='propostas/', verbose_name='Arquivo PDF')),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='propostas', to='contratus.cliente', verbose_name='Cliente')),
                ('corretor', models.ForeignKey(limit_choices_to={'nivel': 'corretor'}, on_delete=django.db.models.deletion.PROTECT, related_name='propostas_criadas', to=settings.AUTH_USER_MODEL, verbose_name='Corretor')),
                ('empreendimento', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='propostas', to='contratus.empreendimento', verbose_name='Empreendimento')),
            ],
            options={
                'verbose_name': 'Proposta',
                'verbose_name_plural': 'Propostas',
                'ordering': ['-data_criacao'],
            },
        ),
        migrations.AddField(
            model_name='contrato',
            name='proposta',
            field=models.OneToOneField(on_delete=django.db.models.deletion.PROTECT, related_name='contrato', to='contratus.proposta', verbose_name='Proposta'),
        ),
        migrations.CreateModel(
            name='UnidadeEmpreendimento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('identificacao', models.CharField(help_text='Ex: Casa 03, Apto 205, Bloco A - Apto 101', max_length=50, verbose_name='Identificação')),
                ('andar', models.CharField(blank=True, max_length=20, verbose_name='Andar')),
                ('bloco', models.CharField(blank=True, max_length=20, verbose_name='Bloco')),
                ('status', models.CharField(choices=[('disponivel', 'Disponível'), ('reservada', 'Reservada'), ('vendida', 'Vendida'), ('bloqueada', 'Bloqueada')], default='disponivel', max_length=20, verbose_name='Status')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('empreendimento', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='unidades', to='contratus.empreendimento', verbose_name='Empreendimento')),
            ],
            options={
                'verbose_name': 'Unidade',
                'verbose_name_plural': 'Unidades',
                'ordering': ['identificacao'],
                'unique_together': {('empreendimento', 'identificacao')},
            },
        ),
        migrations.AddField(
            model_name='proposta',
            name='unidade',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='propostas', to='contratus.unidadeempreendimento', verbose_name='Unidade Escolhida'),
        ),
        migrations.AddField(
            model_name='contrato',
            name='unidade',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='contratos', to='contratus.unidadeempreendimento', verbose_name='Unidade'),
        ),
    ]
